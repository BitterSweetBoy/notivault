<!-- Descripción -->
<div class="space-y-2">
  <h4 class="font-semibold text-gray-800">Descripción</h4>

  <div *ngIf="!isEditing" class="bg-white p-3 rounded border border-gray-300 rounded-lg focus:outline-none focus:ring-indigo-300">
    <code class="text-sm text-gray-600 font-mono flex-1">
      {{ token.descripcion || "" }}
    </code>
  </div>

  <div *ngIf="isEditing">
    <input
      type="text"
      [(ngModel)]="token.descripcion"
      class="bg-white w-full p-3 text-sm border rounded border-gray-400 focus:outline-none focus:ring-indigo-300"
      placeholder="Descripcion"
    />
  </div>
</div>

<!-- URL del servidor -->
<div class="mt-4 space-y-2">
  <h4 class="font-semibold text-gray-800">URL del servidor de Mattermost</h4>

  <div *ngIf="!isEditing" class="bg-white p-3 rounded border border-gray-300 rounded-lg focus:outline-none focus:ring-indigo-300">
    <code class="text-sm text-gray-600">
      {{ token.serverUrl || "https://mattermost.tudominio.com" }}
    </code>
  </div>

  <div *ngIf="isEditing">
    <input
      type="text"
      [(ngModel)]="token.serverUrl"
      class="bg-white w-full p-3 text-sm border rounded border-gray-400 focus:outline-none focus:ring-indigo-300"
      placeholder="https://mattermost.tudominio.com"
    />
  </div>
</div>

<!-- API Key -->
<div class="mt-4 space-y-2">
  <h4 class="font-semibold text-gray-800">Webhook de Mattermost</h4>

  <div
    *ngIf="!isEditing"
    class="flex items-center justify-between bg-white p-3 rounded border border-gray-300 rounded-lg focus:outline-none focus:ring-indigo-300"
  >
    <code class="text-sm text-gray-600 font-mono flex-1">
      {{ token.apiKey }}
    </code>
    <button
      pButton
      type="button"
      icon="pi pi-copy"
      class="p-button-text p-button-sm ml-2 !text-indigo-700"
      pTooltip="Copiar"
      (click)="onCopy(token.apiKey)"
    >
      Copiar
    </button>
  </div>

  <div *ngIf="isEditing">
    <input
      type="text"
      [(ngModel)]="token.apiKey"
      class="bg-white w-full p-3 text-sm font-mono border rounded border-gray-400 focus:outline-none focus:ring-indigo-300"
      placeholder="Ingresa el API Key de Mattermost"
    />
  </div>
</div>

<!-- Información de configuración -->
<div class="mt-3 flex items-center justify-between">
  <div class="flex items-center text-sm text-gray-500 space-x-4">
    <span>Configurado el {{ token.fechaConfiguracion | formatDate }}</span>
    <span>•</span>
    <span>Última verificación: {{ token.ultimaVerificacion | formatDate }}</span>
  </div>
</div>
